<tui-filter
    size="s"
    [formControl]="control"
    [items]="items"
/>

<tui-action-bar
    *tuiActionBar="open"
    [expanded]="!!isMobile() && expanded"
>
    <tui-data-list role="menu">
        <tui-opt-group>
            <button
                role="menuitem"
                tuiOption
                type="button"
            >
                <span>
                    <tui-icon
                        icon="@tui.send"
                        class="tui-space_right-3"
                    />
                    Send
                </span>
            </button>
            <button
                role="menuitem"
                tuiOption
                type="button"
            >
                <span>
                    <tui-icon
                        icon="@tui.trash"
                        class="tui-space_right-3"
                    />
                    Delete
                </span>
            </button>
        </tui-opt-group>
        <tui-opt-group>
            <button
                role="menuitem"
                tuiOption
                type="button"
                [disabled]="selected === items.length"
                (click)="control.setValue(items)"
            >
                <span>
                    <tui-icon
                        icon="@tui.layout-grid"
                        class="tui-space_right-3"
                    />
                    Select all
                </span>
            </button>
            <button
                role="menuitem"
                tuiOption
                type="button"
                (click)="close()"
            >
                <span>
                    <tui-icon
                        icon="@tui.x"
                        class="tui-space_right-3"
                    />
                    Select none and close
                </span>
            </button>
        </tui-opt-group>
    </tui-data-list>

    <div>
        Selected: {{ selected }} of {{ items.length }}

        <button
            *ngIf="!isMobile()"
            appearance="icon"
            tuiLink
            type="button"
            class="tui-space_left-3"
            [pseudo]="true"
            (click)="toggleSelect()"
        >
            {{ selected < items.length ? 'Select all' : 'Select none' }}
        </button>
    </div>

    <button
        appearance="glass"
        iconStart="@tui.send"
        size="m"
        tuiButton
        type="button"
        [disabled]="expanded"
    >
        {{ isMobile() ? '' : 'Send' }}
    </button>
    <button
        *ngIf="!isMobile()"
        appearance="glass"
        iconStart="@tui.trash"
        size="m"
        tuiButton
        type="button"
        [disabled]="expanded"
        (click)="close()"
    >
        Delete
    </button>

    <button
        *ngIf="isMobile()"
        appearance="glass"
        iconStart="@tui.ellipsis"
        size="m"
        tuiIconButton
        type="button"
        (click)="expanded = !expanded"
    >
        More
    </button>

    <button
        *ngIf="!isMobile()"
        appearance="icon"
        iconStart="@tui.x"
        size="m"
        tuiIconButton
        type="button"
        (click)="close()"
    >
        Close
    </button>
</tui-action-bar>
