<div
    class="t-bg-toggle"
    [tuiMode]="null"
>
    <ng-template #tooltip>
        {{ texts[0] }}
        <a
            routerLink="/directives/mode"
            tuiLink
            tuiMode="onDark"
        >
            <code>tuiMode</code>
        </a>
    </ng-template>
    <ng-container *ngIf="isMobile; else desktop">
        <tui-select
            tuiTextfieldSize="s"
            class="t-mode"
            [ngModel]="mode"
            [tuiHintContent]="tooltip"
            [tuiTextfieldCleaner]="true"
            (ngModelChange)="onModeChange($event)"
        >
            tuiMode
            <tui-data-list-wrapper
                *tuiDataList
                [items]="items"
            />
        </tui-select>
    </ng-container>
    <ng-template #desktop>
        tuiMode:
        <tui-tooltip
            describeId="form"
            [content]="tooltip"
        />
        <div
            tuiGroup
            class="t-group"
            [collapsed]="true"
        >
            <label
                appearance=""
                tuiBlock="s"
                class="tui-group__auto-width-item"
            >
                null
                <input
                    tuiBlock
                    type="radio"
                    [ngModel]="mode"
                    [value]="null"
                    (ngModelChange)="onModeChange($event)"
                />
            </label>
            <label
                appearance=""
                tuiBlock="s"
                class="tui-group__auto-width-item"
            >
                onDark
                <input
                    tuiBlock
                    type="radio"
                    value="onDark"
                    [ngModel]="mode"
                    (ngModelChange)="onModeChange($event)"
                />
            </label>
            <label
                appearance=""
                tuiBlock="s"
                class="tui-group__auto-width-item"
            >
                onLight
                <input
                    tuiBlock
                    type="radio"
                    value="onLight"
                    [ngModel]="mode"
                    (ngModelChange)="onModeChange($event)"
                />
            </label>
        </div>
    </ng-template>
    <label
        class="t-checkbox"
        [style.gap.rem]="0.5"
    >
        <input
            size="s"
            tuiCheckbox
            type="checkbox"
            [ngModel]="opaque"
            (ngModelChange)="changeOpaque($event)"
        />
        {{ texts[1] }}
    </label>
</div>
<div
    tuiResizeable
    class="t-wrapper"
    [class.t-wrapper_dark]="mode === 'onDark'"
    [class.t-wrapper_gray]="mode === 'onLight'"
    [class.t-wrapper_transparent]="!opaque"
>
    <div class="t-content">
        <div
            #content
            id="demo-content"
        >
            <form
                *ngIf="testForm"
                class="t-form"
                [formGroup]="testForm"
            >
                <div class="t-input-wrapper">
                    <ng-container [ngTemplateOutlet]="template" />
                </div>
                <button
                    automation-id="tui-demo-button__toggle-details"
                    size="s"
                    tuiButton
                    type="button"
                    class="t-button"
                    [iconRight]="icon"
                    (click)="toggleDetails()"
                >
                    {{ texts[2] }}
                </button>
                <ng-template #icon>
                    <tui-svg
                        class="t-icon"
                        [class.t-icon_rotated]="expanded"
                        [src]="options.iconSmall"
                    />
                </ng-template>
                <tui-expand
                    class="t-expand"
                    [expanded]="expanded"
                >
                    <ng-template tuiExpandContent>
                        <pre class="t-value">Form data: {{ testForm.value | json }}</pre>
                        <div
                            tuiGroup
                            class="t-form-controls"
                        >
                            <tui-select
                                automation-id="tui-demo-select__expand-update-on"
                                tuiTextfieldSize="s"
                                class="t-select"
                                [ngModel]="updateOn"
                                [ngModelOptions]="{standalone: true}"
                                (ngModelChange)="updateOnChange($event)"
                            >
                                updateOn
                                <tui-data-list-wrapper
                                    *tuiDataList
                                    [items]="updateOnVariants"
                                />
                            </tui-select>
                            <button
                                automation-id="tui-demo-button__reset-state"
                                size="s"
                                tuiButton
                                type="reset"
                                class="tui-group__auto-width-item"
                            >
                                Reset
                            </button>
                            <button
                                automation-id="tui-demo-button__submit-state"
                                size="s"
                                tuiButton
                                type="submit"
                                class="tui-group__auto-width-item"
                            >
                                Submit
                            </button>
                        </div>
                    </ng-template>
                </tui-expand>
            </form>
            <ng-content />
        </div>
    </div>
    <div
        #resizer
        class="t-resizer"
        [tuiResizer]="[1, 0]"
        (tuiSizeChange)="updateWidth($event[0])"
    ></div>
</div>
