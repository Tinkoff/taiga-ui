<button
    size="s"
    tuiButton
    (click)="add()"
>
    Add item
</button>
<tui-elastic-container class="tui-space_top-4">
    <div
        *ngFor="let item of items; let index = index"
        class="wrapper"
    >
        <h3 class="title">
            <button
                appearance="secondary"
                iconLeft="tuiIconChevronDown"
                size="s"
                tuiIconButton
                class="expand"
                [class.expand_open]="item.expanded"
                [style.border-radius.%]="100"
                (click)="item.expanded = !item.expanded"
            >
                Expand
            </button>
            Nested form
            <button
                appearance="flat"
                iconLeft="tuiIconTrash"
                size="s"
                tuiIconButton
                class="remove"
                [style.border-radius.%]="100"
                (click)="remove(index)"
            >
                Remove
            </button>
        </h3>
        <tui-expand [expanded]="item.expanded">
            <tui-input
                class="tui-space_top-4"
                [(ngModel)]="item.value"
            >
                Some input
            </tui-input>
        </tui-expand>
    </div>
</tui-elastic-container>
