<tui-tiles
    class="t-wrapper"
    [(order)]="order"
>
    <tui-tile
        *ngFor="let item of unsortedItems; let index = index"
        [style.order]="order.get(index)"
    >
        <div class="t-item">
            <div
                tuiTileHandle
                class="t-draggable"
            >
                <tui-svg
                    class="t-icon"
                    [src]="options.icons.drag"
                ></tui-svg>
                <div *ngIf="container">
                    <ng-container *polymorpheusOutlet="container as template; context: {$implicit: item, index: index}">
                        {{ template }}
                    </ng-container>
                </div>
                <div *ngIf="!container">
                    {{ item }}
                </div>
            </div>
            <button
                appearance="icon"
                size="xs"
                tuiIconButton
                type="button"
                class="t-button"
                [class.t-button_hidden]="!isEnabled(item)"
                [icon]="getIcon(item)"
                [title]="showHideText$ | async"
                (click)="toggle(item)"
                (keydown.arrowDown.prevent)="move(index, 1)"
                (keydown.arrowUp.prevent)="move(index, -1)"
            ></button>
        </div>
    </tui-tile>
</tui-tiles>
