@import '@taiga-ui/core/styles/taiga-ui-local';

tui-data-list {
    --tui-data-list-padding: 0.25rem;
    --tui-data-list-margin: 0.0625rem;

    display: flex;
    font: var(--tui-font-text-m);
    flex-direction: column;
    padding: calc(var(--tui-data-list-padding) - var(--tui-data-list-margin)) var(--tui-data-list-padding);
    color: var(--tui-text-03);

    &:focus-within {
        .t-trap {
            display: none;
        }

        [tuiOption]._with-dropdown:not(:focus) {
            background-color: transparent;
        }
    }

    &[data-size='s'] {
        /* stylelint-disable-next-line */
        --tui-data-list-margin: 0rem;

        & > .t-empty,
        [tuiOption] {
            font: var(--tui-font-text-s);
            min-height: 2rem;
            padding: 0.3125rem 0.5rem;
        }
    }

    &[data-size='m'] > .t-empty,
    &[data-size='m'] [tuiOption] {
        font: var(--tui-font-text-s);
        min-height: 2.5rem;
        padding: 0.375rem 0.5rem;
    }

    &[data-size='l'] {
        --tui-data-list-padding: 0.375rem;
        --tui-data-list-margin: 0.125rem;

        & > .t-empty,
        [tuiOption] {
            font: var(--tui-font-text-m);
            min-height: 2.75rem;
            padding: 0.375rem 0.625rem;
        }
    }

    & > .t-empty {
        display: flex;
        align-items: center;
        box-sizing: border-box;
        margin: var(--tui-data-list-margin) 0;
    }
}

tui-opt-group {
    position: relative;
    display: flex;
    font: var(--tui-font-text-xs);
    color: var(--tui-text-02);
    flex-direction: column;
    line-height: 1rem;

    tui-data-list[data-size='l'] & {
        font: var(--tui-font-text-s);
        line-height: 1.25rem;

        &:before {
            padding-left: 0.625rem;
            padding-right: 0.625rem;
        }

        &:after {
            left: 0.625rem;
            right: 0.625rem;
        }
    }

    &:empty:before,
    &:empty:after {
        display: none;
    }

    &:before {
        content: attr(data-label);
        padding: var(--tui-data-list-padding) 0.5rem var(--tui-data-list-padding);
        margin: var(--tui-data-list-margin) 0;
        white-space: normal;
        word-break: break-word;
    }

    &:after {
        position: absolute;
        left: 0.5rem;
        right: 0.5rem;
        top: var(--tui-data-list-padding);
        height: 1px;
        background: var(--tui-base-03);
    }

    &:not(:empty) ~ & {
        &:before {
            padding-top: calc(0.75rem + var(--tui-data-list-padding));
        }

        &[data-label='']:before,
        &:not([data-label]):before {
            padding: var(--tui-data-list-padding) 0;
        }

        &:after {
            content: '';
        }
    }

    &[data-label='']:before,
    &:not([data-label]):before {
        padding: 0;
        margin: 0;
    }
}

[tuiOption] {
    .clearbtn();
    .transition(background);

    display: flex;
    align-items: center;
    box-sizing: border-box;
    margin: var(--tui-data-list-margin) 0;
    justify-content: space-between;
    text-align: left;
    color: var(--tui-text-01);
    border-radius: var(--tui-radius-s);
    outline: none;
    cursor: pointer;
    background-clip: padding-box;

    &:disabled {
        opacity: var(--tui-disabled-opacity);
        cursor: default;
    }

    &:focus-within,
    &._with-dropdown {
        background-color: var(--tui-clear);
    }

    &:after {
        font-size: 1rem;
        margin: 0 -0.25rem 0 1rem;
    }
}
