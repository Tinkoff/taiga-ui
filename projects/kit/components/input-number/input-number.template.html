<tui-primitive-textfield
    tuiValueAccessor
    class="t-textfield"
    [pseudoHover]="pseudoHover"
    [pseudoFocus]="computedFocused"
    [pseudoActive]="pseudoActive"
    [invalid]="computedInvalid"
    [tuiTextfieldInputMode]="inputMode"
    [tuiTextfieldMaxLength]="calculatedMaxLength"
    [readOnly]="readOnly"
    [disabled]="computedDisabled"
    [textMask]="isNegativeAllowed | tuiMapper: mask:decimal:precision:nativeFocusableElement"
    [value]="computedValue"
    [prefix]="prefix"
    [postfix]="postfix"
    [focusable]="focusable"
    (valueChange)="onValueChange($event)"
    (focusedChange)="onFocused($event)"
    (keydown)="onKeyDown($event)"
>
    <ng-content></ng-content>
    <ng-content
        select="input"
        ngProjectAs="input"
    ></ng-content>
    <div
        *ngIf="polymorpheusValueContent.length"
        polymorpheus-outlet
        class="t-value-content"
        [content]="valueContent"
    ></div>
</tui-primitive-textfield>

<ng-container *ngIf="polymorpheusValueContent.changes | async"></ng-container>

<ng-template #valueContent>
    <ng-content select="[polymorpheus-outlet]"></ng-content>
</ng-template>
