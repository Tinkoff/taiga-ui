<ng-container *ngIf="currentQuestion < 2; else result">
    <p>{{ currentQuestion + 1 }}. {{ questionTitles[currentQuestion] }}</p>

    <form [formGroup]="form">
        <tui-checkbox-labeled
            *ngFor="let option of questions[currentQuestion]; let index = index; trackBy: trackByIndex"
            class="tui-space_top-2"
            [formControlName]="index"
        >
            {{ option }}
        </tui-checkbox-labeled>
    </form>

    <button
        size="s"
        tuiButton
        type="button"
        class="tui-space_top-4"
        (click)="nextQuestion()"
    >
        Next
    </button>
</ng-container>

<ng-template #result>
    <p>
        <b>Your answers</b>
    </p>

    <div
        *ngFor="let options of results; let i = index"
        class="tui-space_top-4"
    >
        <p>{{ i + 1 }}. {{ questionTitles[i] }}</p>

        <tui-checkbox-labeled
            *ngFor="let question of questions[i]; let j = index"
            class="tui-space_top-2"
            [ngModel]="options[j]"
            [readOnly]="true"
        >
            {{ question }}
        </tui-checkbox-labeled>
    </div>
</ng-template>
