<tui-doc-page i18n-header header="RequiredSetter" package="CDK">
    <ng-template i18n pageTab> Decorator setter @Input </ng-template>

    <ng-template pageTab>
        <div>
            <p i18n>See console</p>
            <example-tui-required-setter-demo
                [min]="min"
                [quantity]="quantity"
            ></example-tui-required-setter-demo>
            <tui-input-count class="tui-space_top-4" [(ngModel)]="quantity">
                quantity
            </tui-input-count>
            <tui-input-count class="tui-space_top-4" [(ngModel)]="min">
                min
            </tui-input-count>
            <button
                tuiButton
                type="button"
                class="tui-space_top-4 tui-space_bottom-8"
                (click)="setUndefined()"
            >
                Set undefined
            </button>
        </div>
    </ng-template>

    <ng-template pageTab>
        <p i18n>
            Decorator stops undefined values if they were passed into setter
            input. If it gets undefined, setter will not be called and it shows
            an error message about the problem in console in dev mode.
        </p>
        <p i18n>
            You can also pass contract function of type
            <code>(input: T[K], context: T) => boolean</code> with the component
            instance as a second argument. If check is unsuccessful, it shows an
            error message about the problem in console in dev mode.
        </p>
        <tui-doc-documentation>
            <ng-template
                i18n
                documentationPropertyName="assertion"
                documentationPropertyType="TuiAssertion<T, K>"
            >
                Optional argument, contract function
                <p>
                    <strong>Warning:</strong> Angular Compiler does not allow
                    arrow functions in decorators with
                    <code>strictMetadataEmit</code> (by default). Add
                    <code>// @dynamic</code> comment right above your
                    <code>@Component</code> decorator to use them
                </p>
            </ng-template>
            <ng-template
                i18n
                documentationPropertyName="args"
                documentationPropertyType="any"
            >
                Arguments for console.error if check is unsuccessful
            </ng-template>
        </tui-doc-documentation>
    </ng-template>

    <ng-template pageTab>
        <ol class="b-demo-steps">
            <li>
                <p i18n>
                    Add <code>@tuiRequiredSetter</code> to setter input of your
                    component
                </p>

                <tui-doc-code
                    filename="myComponent.component.ts"
                    [code]="exampleDecorator"
                ></tui-doc-code>
            </li>
        </ol>
    </ng-template>
</tui-doc-page>
