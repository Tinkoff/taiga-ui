<button
    tuiDropdownAlign="right"
    tuiLink
    class="link"
    [tuiDropdown]="dropdown"
    [(tuiDropdownOpen)]="open"
>
    <tui-svg
        src="tuiIconSortDown"
        class="sort"
        [class.sort_ascending]="ascending"
    />
    {{ primary }}
    <!--TODO: Switch to tuiChevron-->
    <tui-svg
        src="tuiIconChevronDown"
        class="arrow"
        [class.arrow_open]="open"
    />
</button>

<ng-template #dropdown>
    <tui-data-list>
        <tui-opt-group *ngFor="let group of items">
            <button
                *ngFor="let item of group"
                tuiOption
                class="item"
                (click)="onClick(item)"
            >
                {{ item }}
                <tui-svg
                    *ngIf="itemIsActive(item)"
                    src="tuiIconCheck"
                />
            </button>
        </tui-opt-group>
    </tui-data-list>
</ng-template>
