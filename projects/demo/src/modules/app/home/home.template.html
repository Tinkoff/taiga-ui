<p class="tui-space_top-0" i18n>
    This guide will help you correctly install Taiga UI
</p>

<div class="tui-space_top-5">
    <ol class="steps">
        <li>
            <a tuiLink routerLink="." fragment="install" i18n
                >Install libraries</a
            >
        </li>
        <li>
            <a tuiLink routerLink="." fragment="less" i18n
                >Styles for LESS projects</a
            >
        </li>
        <li>
            <a tuiLink routerLink="." fragment="not-less" i18n
                >Styles for not LESS projects</a
            >
        </li>
        <li>
            <a tuiLink routerLink="." fragment="root" i18n>Root component</a>
        </li>
        <li>
            <a tuiLink routerLink="." fragment="options" i18n
                >Optional components</a
            >
        </li>
        <li><a tuiLink routerLink="." fragment="icons" i18n>Icons</a></li>
        <li><a tuiLink routerLink="." fragment="theme" i18n>Theming</a></li>
        <li>
            <a tuiLink routerLink="." fragment="ie">Internet Explorer</a>
        </li>
    </ol>

    <ol class="b-demo-steps">
        <li id="install" i18n>
            Install packages of Taiga UI

            <tui-doc-code
                filename="Main Taiga UI packages"
                [code]="examples.main"
            ></tui-doc-code>

            <tui-doc-code
                filename="Taiga UI addons based on main packages"
                [code]="examples.addons"
            ></tui-doc-code>
        </li>

        <li id="less" i18n>
            <p>
                We use <a tuiLink href="http://lesscss.org/">LESS</a> as CSS
                preprocessor for our library. If you make a new project, you can
                choose it by default with <code>--style less</code> flag.
            </p>

            <tui-accordion>
                <tui-accordion-item>
                    I have a project with LESS
                    <ng-template tuiAccordionItemContent>
                        Import our global styles in yours
                        <code>styles.less</code>. It adds global classes and CSS
                        variables

                        <tui-doc-code
                            filename="styles.less"
                            [code]="examples.importBaseLess"
                        ></tui-doc-code>

                        <p>
                            You can also add a set of our mixins and
                            LESS-variables to use it in your LESS files

                            <tui-doc-code
                                filename="my.component.less"
                                [code]="examples.importLocalLess"
                            ></tui-doc-code>
                        </p>
                    </ng-template>
                </tui-accordion-item>
                <tui-accordion-item>
                    I don't use LESS
                    <ng-template tuiAccordionItemContent>
                        Append our global styles to styles of your app in
                        <code>angular.json</code>. It adds global classes and
                        CSS-variables

                        <tui-doc-code
                            filename="angular.json"
                            [code]="examples.angularJsonStyles"
                        ></tui-doc-code>

                        <p>
                            It is not a regular case, but if you need to use our
                            LESS-mixins or LESS-variables, you can add
                            additional LESS-styles for your component
                        </p>

                        <tui-doc-code
                            filename="my.component.ts"
                            [code]="examples.componentsStyles"
                        ></tui-doc-code>

                        <p>Angular resolves it automatically</p>

                        <tui-doc-code
                            filename="my.component.less"
                            [code]="examples.importLocalLess"
                        ></tui-doc-code>
                    </ng-template>
                </tui-accordion-item>
            </tui-accordion>
        </li>

        <li id="not-less" i18n>
            Otherwise, do not forget about file type if you import styles
            directly from our library
        </li>

        <li id="root" i18n>
            Many of our components need your app to be wrapped into
            <code>tui-root</code>. Import <code>TuiRootModule</code> in your
            main module and add <code>TuiRootScroller</code> into providers for
            correct working of Angular router

            <tui-doc-code
                class="tui-space_bottom-4"
                filename="app.module.ts"
                [code]="examples.appModule"
            ></tui-doc-code>

            <p>Wrap all content of your app with root component</p>

            <tui-doc-code
                filename="app.component.html"
                [code]="examples.appTemplate"
            ></tui-doc-code>
        </li>

        <li id="options">
            В Taiga UI входят опциональные модули, такие, как попапы,
            нотификации и другие. Для их включения, нужно добавить их в основной
            модуль:

            <tui-doc-code
                class="tui-space_bottom-4"
                filename="app.module.ts"
                [code]="examples.appModuleOptional"
            ></tui-doc-code>
        </li>

        <li id="icons">
            Иконки не включены в бандл библиотеки. Для того, чтобы в компонентах
            появились необходимые им иконки (календари, галочки, крестики и
            т.д.) нужно предоставить токен <code>TUI_ICONS_PATH</code> —
            функцию, получающую на вход имя иконки и возвращающую путь до неё.
            Добавьте иконки в assets вашего приложения:

            <tui-doc-code
                class="tui-space_bottom-4"
                filename="angular.json"
                [code]="examples.assets"
            ></tui-doc-code>

            Затем укажите через провайдер заданный путь. Кроме того, встроенный
            <code>Sanitizer</code> ангуляра не пропускает код <code>SVG</code>,
            поэтому необходимо предоставить токен <code>TUI_SANITIZER</code>,
            ответственный за удаление вредоносного кода из иконок. Если вы
            доверяете всем используемым иконкам, то можете использовать
            константу как в примере ниже, в противном случае рекомендуем
            использовать нашу библиотеку
            <a
                href="https://github.com/TinkoffCreditSystems/ng-dompurify"
                tuiLink
                >ng-dompurify</a
            >.

            <tui-doc-code
                class="tui-space_bottom-4"
                filename="app.module.ts"
                [code]="examples.appModuleIcons"
            ></tui-doc-code>
        </li>

        <li id="theme">
            Для смены темы см. раздел
            <a tuiLink routerLink="/theme">Темы</a>.
        </li>

        <li id="ie">
            Стили Taiga UI строятся на основе CSS-переменных, которые не
            поддерживаются в браузере Internet Explorer.
            <strong>Если вам необходима поддержка IE 11</strong>, то
            воспользуйтесь пакетом
            <a
                tuiLink
                target="_blank"
                href="https://www.npmjs.com/package/css-vars-ponyfill"
                >css-vars-ponyfill</a
            >

            <p>Установка css-vars-ponyfill:</p>

            <tui-doc-code [code]="examples.ponyfill"></tui-doc-code>

            <p>
                Добавьте полифилл к
                <a
                    tuiLink
                    target="_blank"
                    href="https://angular.io/api/core/APP_BOOTSTRAP_LISTENER"
                    ><code>APP_BOOTSTRAP_LISTENER</code></a
                >
                вашего приложения
            </p>

            <tui-doc-code
                filename="app.module.ts"
                [code]="examples.ieSupport"
            ></tui-doc-code>
        </li>
    </ol>
</div>
